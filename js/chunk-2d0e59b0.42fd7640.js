(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e59b0"],{"94cb":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("BaseSubmitBlock",{attrs:{"is-form-valid":t.isFormValid,"missed-names":t.missedNames,"is-loading":t.isLoading,modal:t.modalProps},on:{submit:t.onSubmit,"close-modal":function(s){t.showModal=!1}}})},a=[],o=e("5530"),n=(e("d3b7"),e("2f62")),r=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"form__submit-block"},[e("button",{staticClass:"form__submit-btn",attrs:{type:"submit",disabled:t.submitDisabled},on:{click:function(s){return s.preventDefault(),t.onClick(s)}}},[t._v(" Заказать ")]),e("div",{staticClass:"form__submit-state",attrs:{"aria-live":"polite"}},[t.isLoading?e("BaseMessage",{attrs:{status:"loading"}},[t._v(" Идет отправка... ")]):t.isFormValid?t._e():e("BaseSubmitHelp",{staticClass:"form__submit-help",attrs:{"missed-items":t.missedNames}})],1),t.modal.show?e("BaseModal",{attrs:{status:t.modal.status},on:{close:function(s){return t.$emit("close-modal")}}},[t._v(" "+t._s(t.modal.text)+" ")]):t._e()],1)},u=[],c=(e("3ca3"),e("ddb0"),{name:"BaseSubmitBlock",components:{BaseModal:function(){return e.e("chunk-2d216642").then(e.bind(null,"c1ec"))},BaseMessage:function(){return Promise.resolve().then(e.bind(null,"48cd"))},BaseSubmitHelp:function(){return e.e("chunk-f735233a").then(e.bind(null,"c999"))}},props:{isFormValid:{type:Boolean,required:!0},missedNames:{type:Array,required:!0},isLoading:{type:Boolean,default:!1},modal:{type:Object,required:!0}},computed:{submitDisabled:function(){return!this.isFormValid||this.isLoading}},methods:{onClick:function(){this.$emit("submit")}}}),l=c,d=e("2877"),m=Object(d["a"])(l,r,u,!1,null,null,null),b=m.exports,h={name:"SubmitBlock",components:{BaseSubmitBlock:b},data:function(){return{isError:!1,isLoading:!1,isSuccess:!1,showModal:!1,orderId:0}},computed:Object(o["a"])(Object(o["a"])({},Object(n["c"])("form",["isFormValid","missedNames"])),{},{modalStatus:function(){return this.isError?"error":this.isSuccess?"success":""},modalText:function(){switch(this.modalStatus){case"success":return"Ваш заказ успешно сформирован! Номер заказа - ".concat(this.orderId);case"error":return"Произошла ошибка отправки, пожалуйста повторите попытку позже...";default:return""}},modalProps:function(){return{show:this.showModal,status:this.modalStatus,text:this.modalText}}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(n["b"])(["sendData"])),Object(n["b"])("form",["reset"])),{},{onSubmit:function(){var t=this;this.isLoading=!0,this.isSuccess=!1,this.isError=!1,this.sendData().then((function(s){var e=s.data.id;t.orderId=e,t.reset(),t.isSuccess=!0})).catch((function(){t.isError=!0})).finally((function(){t.isLoading=!1,t.showModal=!0}))}})},f=h,p=Object(d["a"])(f,i,a,!1,null,null,null);s["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d0e59b0.42fd7640.js.map